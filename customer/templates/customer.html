{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Inventory Management System</title>
</head>
<body>
    <p><a href="/">HOME</a></p>
    <h2>Customer Management</h2>

    <!-- Customer Form -->
    <form id="customer-form" method="POST" action="/customer/save/">
        {% csrf_token %}
        <input type="hidden" id="customer_id" name="customer_id" value="{{ selected_customer.customer_id }}">

        <label>First Name:</label>
        <input type="text" id="first_name" name="first_name" value="{{ selected_customer.first_name }}" required><br>

        <label>Last Name:</label>
        <input type="text" id="last_name" name="last_name" value="{{ selected_customer.last_name }}" required><br>

        <label>Email:</label>
        <input type="email" id="email" name="email" value="{{ selected_customer.email }}" required><br>

        <label>Mobile:</label>
        <input type="text" id="mobile" name="mobile" value="{{ selected_customer.mobile }}" required><br>

        <label>Address:</label>
        <input type="text" id="address" name="address" value="{{ selected_customer.address }}" required><br>

        <button type="submit">Save</button>
        <button type="button" id="clear">Clear</button>
        <button type="button" onclick="location.reload();">Refresh</button>
    </form>

    <!-- Customer List -->
    <h3>Customer List</h3>
    <table border="1">
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Action</th>
        </tr>
        {% for customer in customers %}
        <tr class="customer-row" data-id="{{ customer.customer_id }}">
            <td><a href="{% url 'edit_customer_detail' id=customer.customer_id %}">{{ customer.first_name }} {{ customer.last_name }}</a></td>
            <td>{{ customer.email }}</td>
            <td>
                <!--<a href="/customer/{{ customer.customer_id }}/edit/"><button type="button">Edit</button></a>-->
                <!--<a href="{% url 'edit_customer_detail' id=customer.customer_id %}"><button type="button">Edit</button></a>-->
                <a href="/customer/{{ customer.customer_id }}/delete/" onclick="return confirm('Are you sure you want to delete this customer?');">
                    <button type="button">Delete</button>
                </a>
            </td>
        </tr>
        {% endfor %}
    </table>

    <script>
        document.getElementById("clear").addEventListener("click", function() {
            document.querySelectorAll("#customer-form input").forEach(input => input.value = "");
        });
    </script>
</body>
</html>





<!---<!DOCTYPE html>
<html>
<body>

<h1>{{ customer.first_name }} {{ customer.last_name }}</h1>

<p>Phone: {{ customer.phone }}</p>
<p>Email: {{ customer.joined_date }}</p>
<p>Address: {{ customer.address }}</p>

<h1>Customer Detail</h1>
<ul>
  {% for x in customers %}
  <li><a href="customer/{{ x.customer_id }}">{{ x.first_name }} {{ x.last_name }}</a></li>
  {% endfor %}
</ul>

</body>
</html>--->